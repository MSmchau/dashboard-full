# ====================================
# 设备管理系统 - 环境配置文件
# ====================================

# 基础配置
PROJECT_NAME=device-management
ENVIRONMENT=docker
TIMEZONE=Asia/Shanghai

# 数据库配置
DB_PASSWORD=device_admin_123
DATABASE_HOST=postgresql
DATABASE_PORT=5432
DATABASE_NAME=device_management
DATABASE_USERNAME=device_admin

# InfluxDB配置
INFLUXDB_PASSWORD=admin_123
INFLUXDB_TOKEN=device_admin_token_123
INFLUXDB_ORG=device-org
INFLUXDB_BUCKET=device-metrics

# Redis配置
REDIS_PASSWORD=

# Kafka配置
KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://localhost:9092

# 对象存储配置
MINIO_ACCESS_KEY=admin
MINIO_SECRET_KEY=admin_123456

# 监控配置
GRAFANA_PASSWORD=admin_123
PROMETHEUS_RETENTION=200h

# JWT配置
JWT_SECRET=device_jwt_secret_key_123456789
JWT_EXPIRE_TIME=86400

# 文件上传配置
MAX_FILE_SIZE=10MB
ALLOWED_FILE_TYPES=txt,pdf,png,jpg,jpeg,csv,xlsx

# 邮件配置 (根据实际情况修改)
MAIL_HOST=smtp.qq.com
MAIL_PORT=587
MAIL_USERNAME=your_email@qq.com
MAIL_PASSWORD=your_password
MAIL_FROM=设备管理系统 <your_email@qq.com>

# 短信配置 (根据实际情况修改)
SMS_ACCESS_KEY=your_access_key
SMS_SECRET_KEY=your_secret_key
SMS_SIGN_NAME=设备管理系统
SMS_TEMPLATE_CODE=SMS_123456789

# 第三方服务配置
# 钉钉机器人
DINGTALK_WEBHOOK=your_dingtalk_webhook
DINGTALK_SECRET=your_dingtalk_secret

# 企业微信机器人
WECOM_WEBHOOK=your_wecom_webhook

# Webhook通知配置
ALERT_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# SSL证书配置 (生产环境)
SSL_CERT_PATH=/etc/ssl/certs/device-management.crt
SSL_KEY_PATH=/etc/ssl/private/device-management.key

# 性能调优参数
JAVA_OPTS=-Xms2g -Xmx4g -XX:+UseG1GC
KAFKA_HEAP_OPTS=-Xms1g -Xmx2g
POSTGRESQL_MAX_CONNECTIONS=500

# 日志配置
LOG_LEVEL=INFO
LOG_PATH=/var/log/device
LOG_MAX_FILE_SIZE=100MB
LOG_MAX_HISTORY=30

# 监控阈值配置
CPU_ALERT_THRESHOLD=80
MEMORY_ALERT_THRESHOLD=85
DISK_ALERT_THRESHOLD=90
RESPONSE_TIME_THRESHOLD=2000
ERROR_RATE_THRESHOLD=5

# 设备接入配置
MAX_ONLINE_DEVICES=3000
WEBSOCKET_MAX_CONNECTIONS=5000
DEVICE_HEARTBEAT_INTERVAL=30
DEVICE_DATA_BUFFER_SIZE=1000

# API限流配置
API_RATE_LIMIT_REQUESTS=1000
API_RATE_LIMIT_WINDOW=60

# 缓存配置
REDIS_EXPIRE_TIME=3600
CACHE_REDIS_CLUSTER_NODES=
CACHE_REDIS_CLUSTER_PASSWORD=

# 数据备份配置
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_ENDPOINT=
BACKUP_S3_BUCKET=
BACKUP_S3_ACCESS_KEY=
BACKUP_S3_SECRET_KEY=

# 开发调试配置 (仅开发环境)
DEBUG_ENABLED=false
SQL_LOG_ENABLED=true
TRACE_ENABLED=true

# 网络安全配置
CORS_ALLOWED_ORIGINS=*
SECURITY_CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
SECURITY_CORS_ALLOWED_HEADERS=*

# 集群配置 (生产环境)
CLUSTER_NODE_ID=node1
CLUSTER_NODES=node1:9300,node2:9300,node3:9300
CLUSTER_MIN_MASTER_NODES=2

# 灰度发布配置
CANARY_ENABLED=false
CANARY_TRAFFIC_PERCENTAGE=10

# 高可用配置
HEALTH_CHECK_INTERVAL=30
SERVICE_DISCOVERY_TIMEOUT=5000
LOAD_BALANCER_STRATEGY=round_robin